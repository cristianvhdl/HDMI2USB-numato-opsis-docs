<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Numato Opsis : Video FAQ</title>
        <meta name="description" content="Developer Documentation">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/toc.css">

    </head>
    <body>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <h4><a class="brand" href="/">Numato Opsis</a>
    <small>Developer Documentation</small>
</h4>
    <div class="col-sm-12">
        <div class="panel-default">
            <div class="top-message" style="height: 66px; margin: 5px;">
               <iframe src="https://planet.timvideos.us/numato-opsis-crowdfunding-campaign-master/badge.html" style="border: none; height: 66px; padding: 0; margin: 0; width: 100%;"></iframe>
            </div>
        </div>
    </div>


                </div>
            </div>

            <div class="row">
                
                
                    <div id="navigation" class="col-sm-2">
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        <li class="nav-header">Getting Started</li>
        
        
            <li><a href="/getting-started/overview.html">Overview</a></li>
        
            <li><a href="/getting-started/layout.html">Layout</a></li>
        
            <li><a href="/getting-started/case.html">Case</a></li>
        
            <li><a href="/getting-started/jtag.html">JTAG</a></li>
        
            <li><a href="/getting-started/power.html">Power Supply</a></li>
        
            <li><a href="/getting-started/uarts.html">UARTs</a></li>
        
            <li><a href="/getting-started/usb-ids.html">USB IDs</a></li>
        
    
        
        

        <li class="nav-header">Features</li>
        
        
            <li><a href="/features/clocks.html">Clocks</a></li>
        
            <li><a href="/features/ddr3.html">DDR3</a></li>
        
            <li><a href="/features/ethernet.html">Ethernet</a></li>
        
            <li><a href="/features/expansion-io.html">Expansion IO</a></li>
        
            <li><a href="/features/flash-memory.html">Flash Memory</a></li>
        
            <li><a href="/features/gtp-transceivers.html">GTP Transceivers</a></li>
        
            <li><a href="/features/hdmi-input.html">HDMI Input</a></li>
        
            <li><a href="/features/hdmi-output.html">HDMI Output</a></li>
        
            <li><a href="/features/eeprom.html">Info EEPROM</a></li>
        
            <li><a href="/features/label.html">Label</a></li>
        
            <li><a href="/features/usb-otg.html">USB OTG</a></li>
        
            <li><a href="/features/usb-peripheral.html">USB Peripheral</a></li>
        
    
        
        

        <li class="nav-header">More Information</li>
        
        
            <li><a href="/info/contact-numato.html">Contact Numato</a></li>
        
            <li><a href="/info/license.html">License</a></li>
        
            <li><a href="/info/video-info-faq.html">Video FAQ</a></li>
        
    
    <li class="nav-header">Repositories</li>
    <li><a href="https://github.com/timvideos/HDMI2USB-numato-opsis-sample-code">Sample Code</a></li>
    <li><a href="https://github.com/timvideos/HDMI2USB-numato-opsis-hardware">Hardware Design</a></li>
    <li><a href="https://github.com/timvideos/HDMI2USB-numato-opsis-docs">Docs</a></li>
    <li><a href="https://github.com/timvideos/HDMI2USB-numato-opsis-hardware/raw/master/doc/Numato-Opsis-v3-prod-3-g83e7bd5.pdf">Schematic</a></li>
    <li class="nav-header">Links</li>
    <li><a href="http://bit.ly/get-opsis">Purchase</a></li>
    <li><a href="http://hdmi2usb.tv">HDMI2USB Project</a></li>
</ul>

                    </div>

                    <div id="content" class="col-sm-10">
                        <div class="page-header">
    <h1>Video FAQ
        
    </h1>


</div>


<h2 id="summary">Summary</h2>

<p>Understanding the video capabilities of the Opsis board is quite complicated!
The board has numerous video connectors that are all extremely user
controllable. This FAQ tries to explain both what is theoretically possible,
what is actually possible and what is actively in use on the board. </p>

<p>There is nothing more frustrating than purchasing something based on the listed
specs only to find out later that there are restrictions. A classic example of
this are devices which list USB2.0 support and then achieve transfer rates
barely in the USB1.1 speed range! For this reason, we have tried to list the
specifications for the Opsis with details about the actual capabilities we have
been using in the real world. However, as the board is built around an FPGA, it
is hard to know how people will end up using the system and we do want people
to try and push it to the limit!</p>

<p>The FAQ also explains some basic background and important points on the <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a>
and <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> protocols.</p>

<p>If you find any errors or omissions please send a
<a href="https://github.com/timvideos/HDMI2USB-numato-opsis-docs/pulls">pull request</a>
or open a 
<a href="https://github.com/timvideos/HDMI2USB-numato-opsis-docs/issues">GitHub issue</a>.</p>

<p>We are also open to things which could be clearer or explained better!</p>

<h3 id="tl;dr">TL;DR</h3>

<p>The important summary of the information is that on the Opsis;</p>

<ul>
<li><p>The <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> connectors support resolutions with equivalent bandwidth of
<code>SXGA @ 60Hz</code> (1280×1024 @ 60Hz progressive) which includes;</p>

<ul>
<li><code>XGA@85Hz</code> (1024×768 @ 85Hz progressive),</li>
<li><code>1080p30</code> (1920×1080 @ 30Hz progressive),</li>
<li><code>1080i60</code> (1920×1080 @ 60Hz interlaced),</li>
<li><code>720p60</code> (1280×720 @ 60Hz progressive),</li>
<li>but <strong>not</strong> <code>1080p60</code> (1920×1080 @ 60Hz progressive).</li>
</ul></li>
<li><p>The <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> connector supports resolutions up to a bandwidth of
~12<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> which include extremely high resolutions around 4096 × 2160 @
24Hz.</p></li>
<li><p>The <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> connector is dual-mode enabled and thus can operate as high
speed <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> ports using cheap adapters. When operating in <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> modes, many
high resolutions up to 3840 x 2160 @ 30Hz should work.</p></li>
</ul>

<h2 id="table-of-contents">Table of Contents</h2>

<div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
          </div>
          <ul>
            <li>
              <a href="#summary"><span class="tocnumber">1</span> <span class="toctext">Summary</span></a>
              <ul>
                <li>
                  <a href="#tl;dr"><span class="tocnumber">1.1</span> <span class="toctext">TL;DR</span></a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#table-of-contents"><span class="tocnumber">2</span> <span class="toctext">Table of Contents</span></a>
            </li>
            <li>
              <a href="#bandwidth-to-resolution"><span class="tocnumber">3</span> <span class="toctext">How does bandwidth related to resolution?</span></a>
              <ul>
                <li>
                  <a href="#interlace-vs-progressive"><span class="tocnumber">3.1</span> <span class="toctext">What is interlaced versus progressive?</span></a>
                </li>
                <li>
                  <a href="#interlace-vs-progressive"><span class="tocnumber">3.2</span> <span class="toctext">How is 1080i60 different from 1080p60?</span></a>
                </li>
                <li>
                  <a href="#what-is-4k"><span class="tocnumber">3.3</span> <span class="toctext">What is "4k Video", "UHDTV" or "UHD-1"?</span></a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#what-is-displayport"><span class="tocnumber">4</span> <span class="toctext">What is DisplayPort?</span></a>
              <ul>
                <li>
                  <a href="#dp-working"><span class="tocnumber">4.1</span> <span class="toctext">How does DisplayPort work?</span></a>
                </li>
                <li>
                  <a href="#dp-versions"><span class="tocnumber">4.2</span> <span class="toctext">What are the important differences between DisplayPort versions / revisions?</span></a>
                </li>
                <li>
                  <a href="#dp-on-opsis-resolutions"><span class="tocnumber">4.3</span> <span class="toctext">What resolutions are supported by DisplayPort connectors on the Opsis board?</span></a>
                </li>
                <li>
                  <a href="#dp-on-opsis-versions"><span class="tocnumber">4.4</span> <span class="toctext">What version of DisplayPort is compatible with Opsis board?</span></a>
                </li>
                <li>
                  <a href="#dp-dual-mode"><span class="tocnumber">4.5</span> <span class="toctext">What is DisplayPort Dual Mode?</span></a>
                </li>
                <li>
                  <a href="#dp-dual-mode-means"><span class="tocnumber">4.6</span> <span class="toctext">Does Dual Mode mean I can connect HDMI devices to the DisplayPort connectors?</span></a>
                </li>
                <li>
                  <a href="#dp-on-opsis-with-dual-mode"><span class="tocnumber">4.7</span> <span class="toctext">What resolutions are supported by DisplayPort connectors on the Opsis board when used as HDMI ports (via Dual Mode)?</span></a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#what-is-hdmi"><span class="tocnumber">5</span> <span class="toctext">What is HDMI?</span></a>
              <ul>
                <li>
                  <a href="#hdmi-versions"><span class="tocnumber">5.1</span> <span class="toctext">What is important about the HDMI versions?</span></a>
                </li>
                <li>
                  <a href="#hdmi-on-opsis-resolution"><span class="tocnumber">5.2</span> <span class="toctext">What resolutions are supported by HDMI connectors on the Opsis board?</span></a>
                </li>
                <li>
                  <a href="#hdmi-on-opsis-versions"><span class="tocnumber">5.3</span> <span class="toctext">What versions of HDMI is compatible with Opsis board?</span></a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#consider-video-resolutions"><span class="tocnumber">6</span> <span class="toctext">What other things are there to consider when thinking about video resolution?</span></a>
            </li>
            <li>
              <a href="#hdmi-examples"><span class="tocnumber">7</span> <span class="toctext">What examples exist for using HDMI on an FPGA?</span></a>
            </li>
            <li>
              <a href="#dp-examples"><span class="tocnumber">8</span> <span class="toctext">What examples exist for using DisplayPort on an FPGA?</span></a>
            </li>
            <li>
              <a href="#hdmi2usb-firmware"><span class="tocnumber">9</span> <span class="toctext">What does the [HDMI2USB.tv] firmware utilise?</span></a>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<h2 id="bandwidth-to-resolution">How does bandwidth related to resolution?</h2>

<p>In programmable system like an FPGA-based board, the I/O bandwidth supported by
the pins on the device is the major factor that affects the maximum resolution
supported on that connector.</p>

<p>To increase the available bandwidth both protocols use multiple sets of pins,
with <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> always using 3 pairs and <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> using between 1 and 4 pairs.
Due to the high bit rates there is also roughly 20% overhead in the wire
encoding protocol meaning that only 80% of the bandwidth is available to
transmit video data.  There is also some other overheads as there are a number
of extra pixels transmitted which don't end up actually displayed on the
screen.</p>

<p>This can make things quite confusing because bandwidth numbers can be quoted as
individual pin or total bandwidth in either raw bandwidth (bit rate) or the
effective bandwidth! It is so easy to get this wrong that I bet that I have
made the mistake at least once in this section. This is why even though the
bandwidth is the important factor we often end up talking in resolutions
instead.</p>

<p>The amount of bandwidth a resolution uses is also dependent on the bits per
pixel and frame rate used with it. You can make a trade off between the bits
per pixel, resolution and frame rate. For example, you can fit 4096×2160 at 24
bits per pixel into ~5<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> of bandwidth it you only use 24 frames per second
but need ~12Gbit for 60 frames per second.</p>

<p>It is most common to use 24 bits per pixel (8 bits per RGB channel) and a frame
rate of 50 or 60 frames. When using these combination the following effective
bandwidths give roughly these results;</p>

<ul>
<li>4<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> gives roughly max resolution of 1920×1200.</li>
<li>8<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> gives roughly max resolution of 2560×1600. </li>
<li>12<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> gives roughly max resolution of 3840×2160.</li>
<li>14<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> gives roughly max resolution of 4096×2160.</li>
</ul>

<p>There is also a big difference between the maximum bandwidth a standard
supports and the actual bandwidth that a connector supports. For example, a
HDMI2.0 has a maximum bandwidth of ~14<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> but very few devices produce
anything close to that.</p>

<h3 id="interlace-vs-progressive">What is interlaced versus progressive?</h3>

<h3 id="interlace-vs-progressive">How is 1080i60 different from 1080p60?</h3>

<p><a href="https://en.wikipedia.org/wiki/Progressive_scan">Progressive formats</a>
work how you would imagine, they output the top left pixel,
followed by the one next to it and then so on. </p>

<p><a href="https://en.wikipedia.org/wiki/Interlaced_video">Interlaced formats</a>
are much stranger and are a legacy artifact of how analog TVs use to operate.
With interlace formats every frame is actually only half the image data (even
or odd rows), alternating between the two halves.  The result of transmitting
only half the image data every frame is that you use half the bandwidth. Hence
1080i60 has effectively half the bandwidth of 1080p60.</p>

<p>All films are recorded in progressive formats and computers generated content
is all progressive too. The only things which are interlaced are content
produced directly for TV and even TV now that has mostly moved to progressive.
Interlaced video is extremely hard to work with as to do anything useful with
video you need the whole image data.</p>

<p>
  <strong>Interlaced video is best avoided all together!</strong>
</p>

<h3 id="what-is-4k">What is "4k Video", "UHDTV" or "UHD-1"?</h3>

<p>Most people are happy with their "<a href="https://en.wikipedia.org/wiki/High-definition_television">high definition</a>" resolution of 1080p and
720p but bigger numbers are better so manufactures decided to create "ultra
high definition" which is often also called 4K video but nobody could agree on
the exact resolution. There hasn't yet been a good naming of convention in this
area and a lot of difference between consumer and industry terminology. 
<a href="https://en.wikipedia.org/wiki/4K_resolution">You can read the Wikipedia page</a>
for a lot of information about the different 4K video sizes. To make things
even more complicated, due to massive amount of bandwidth required by the huge
resolution, 4k video is often at much lower frame rates, frequently 24fps or
30fps.</p>

<p>For clarity, in this space, just write out the full resolution in 
<code>XXXX×XXXXpXX</code> format.</p>

<p>You can do resolutions which could claim to be "4k" or "Ultra High Definition"
on the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> connectors in the Opsis. However you should read all of
the following items in the FAQ before proceeding! </p>

<ul>
<li><a href="/info/video-info-faq.html#bandwidth-to-resolution">How does bandwidth related to resolution?</a></li>
<li><a href="/info/video-info-faq.html#dp-on-opsis-resolutions">What resolutions are supported by DisplayPort connectors on the Opsis board?</a></li>
<li><a href="/info/video-info-faq.html#dp-on-opsis-with-dual-mode">What resolutions are supported by DisplayPort connectors on the Opsis board when used as HDMI ports (via Dual Mode)?</a></li>
<li><a href="/info/video-info-faq.html#consider-video-resolutions">What other things are there to consider when thinking about video resolution?</a></li>
</ul>

<p>If you are planning on operating at this resolution, please understand that you
will be definitely spend a lot of time making sure your system is highly
optimised to make it work!</p>

<h2 id="what-is-displayport">What is DisplayPort?</h2>

<p><a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> is the current standard for video connectivity for the computer
industry. <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> is very different from previous video standards and
shares more in common with something like <a href="https://en.wikipedia.org/wiki/PCI_Express">PCI Express</a> than other video
standards like <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a>, <a href="https://en.wikipedia.org/wiki/Digital_visual_interface">DVI</a> and VGA.</p>

<p>The <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> standard was originally freely available and accessible by
anyone, but that is no longer the case for later versions.</p>

<h3 id="dp-working">How does DisplayPort work?</h3>

<p>Each <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> connector has a number of unidirectional lanes (up to 4)
which each provide a given amount of bandwidth plus a slow speed bidirectional
auxiliary channel. The speed that the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> lanes operate at is
independent of bits per pixel, resolution and frame rate, the video data is
instead packetized and multiplexed over the number of lanes required as needed.
The flexible nature of <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> packet protocol allows support for many
cool features like multiple monitor support, embedded audio, or variable
refresh rates.</p>

<h3 id="dp-versions">What are the important differences between DisplayPort versions / revisions?</h3>

<p>Due to both the higher bandwidth and flexibility of <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a>, it has
undergone a smaller number of revisions than <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a>.</p>

<p>Each new <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> revision has done two things;</p>

<ul>
<li><p>Increased the maximum support bandwidth per lane and this the overall
bandwidth available. Increasing the bandwidth increases the maximum
supported resolution - see the 
"<a href="/info/video-info-faq.html#bandwidth-to-resolution">How does bandwidth related to resolution?</a>" section.</p>

<ul>
<li><a href="#">DisplayPort 1.0</a> has two modes;

<ul>
<li>~1.3<a href="RBR">Gbit/s</a> per lane - giving max usable bandwidth of ~4<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> with 4 lanes.</li>
<li>~2.2<a href="HBR">Gbit/s</a> per lane - giving max usable bandwidth of ~8<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> with 4 lanes.</li>
</ul></li>
<li><a href="#">DisplayPort 1.2</a> has 5.4<a href="HBR2">Gbit/s</a> per lane - giving max usable
bandwidth of ~16<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> with 4 lanes.</li>
<li><a href="#">DisplayPort 1.3</a> has 8.1<a href="HBR3">Gbit/s</a> per lane - giving max usable
bandwidth of ~25<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> with 4 lanes.</li>
</ul></li>
<li><p>Added new "protocol features";</p>

<ul>
<li><a href="#">DisplayPort 1.2</a> added multi-monitor support, increased AUX channel
bandwidth, more color spaces, 3d and the "mini displayport" connector.</li>
<li><a href="#">DisplayPort 1.3</a> added mandatory support for Dual-Mode operation compatible
with HDMI2.0</li>
</ul></li>
</ul>

<h3 id="dp-on-opsis-resolutions">What resolutions are supported by DisplayPort connectors on the Opsis board?</h3>

<p>The high speed transceivers on the Spartan 6, which on the Opsis are connected
to the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> connectors, support both ~1.3<a href="RBR">Gbit/s</a> per lane and
~2.2<a href="HBR">Gbit/s</a> per lane. The Opsis has all 4 lanes enabled giving an
effective bandwidth of roughly ~8<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> with 4 lanes.</p>

<p>This means the board supports "4k" video on these connectors with a number of
caveats. See the <a href="/info/video-info-faq.html#what-is-4k">What is "4k Video", "UHDTV" or "UHD-1"?</a> section for more information.</p>

<h3 id="dp-on-opsis-versions">What version of DisplayPort is compatible with Opsis board?</h3>

<p>All features of <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> should be implementable on the Opsis board.</p>

<h3 id="dp-dual-mode">What is DisplayPort Dual Mode?</h3>

<p>A <a href="https://en.wikipedia.org/wiki/DisplayPort#Dual-mode">"dual mode" connector</a>
means that you can connect both <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> and <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> devices (with a cheap
adapter) to the port.</p>

<p><a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> and <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> are totally incompatible protocols, however as people
commonly want to connect their laptops and computers which only have
<a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> connectors to <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> compatible devices, someone at <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a>
came up with the idea of a "dual mode" connector. Such a connector is the
<a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> "shape" but can actually operate in either <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> protocol
or the <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> protocol modes.</p>

<p>This means;</p>

<ul>
<li><p>When you connect a <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> cable and device to the connector,
everything is talking the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> protocol.</p></li>
<li><p>When you connect a <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> cable and device to the connector by a cheap
"<a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> to HDMI adapter" the system switches to talking the <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a>
protocol.</p></li>
</ul>

<p>This requires one device to implement both the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> protocol and the
<a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> protocol on the same set of pins. As our board is an FPGA this is just a
simple "software" problem.</p>

<p>This is why you'll see <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> to <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> adapters for like $5 USD on
Amazon and other places. The adapter is actually a dumb device which only has
to do a very simple logic level shifting! There is some confusing terminology
around these adapters as they are sometimes called "passive adapters" because
they don't actually have any smarts in them.</p>

<p>You can read more about how this is done on 
<a href="https://en.wikipedia.org/wiki/DisplayPort#Dual-mode">Wikipedia</a>
and in the 
<a href="http://hackipedia.org/Hardware/video/connectors/DisplayPort/VESA%20DisplayPort%20Interoperability%20Guideline%20v1.1.pdf">VESA DisplayPort Interoperability Guideline specification</a>. </p>

<h3 id="dp-dual-mode-means">Does Dual Mode mean I can connect HDMI devices to the DisplayPort connectors?</h3>

<p>With cheap adapters, yes you can! This is supported.</p>

<h3 id="dp-on-opsis-with-dual-mode">What resolutions are supported by DisplayPort connectors on the Opsis board when used as HDMI ports (via Dual Mode)?</h3>

<p><a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> only has three lanes compared to <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a>'s four available, however
<a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> can operate closer to the full 3<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> speed of the transceivers.
This means the raw bit rate when operating in <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> mode is 9<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> which
gives the same effective bandwidth as <a href="#">HDMI 1.3</a> making resolutions like;
2560×1600p @ 60 Hz or 3840 × 2160 @ 30 Hz possible.</p>

<p>There is a more information about <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> in the following section.</p>

<h2 id="what-is-hdmi">What is HDMI?</h2>

<p><a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> is the current standard for video connectivity of consumer entertainment
electronics.</p>

<p><a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> is based on the older DVI standard. It is both 100% electrically
compatible and backward compatible at the protocol level but uses a different
connector. This electrical and protocol compatibility is why you can get DVI to
<a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> adapters for less than a dollar, the adapter simply changes the shape of
the connector!</p>

<p><a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> extends the DVI standard with things important to consumer and
entertainment industry such as;</p>

<ul>
<li>Non-RGB pixel formats such as YCbCr in 4:2:2/4:4:4</li>
<li>Embedded audio.</li>
<li>CEC - remote control protocol.</li>
</ul>

<h3 id="hdmi-versions">What is important about the HDMI versions?</h3>

<p>There are multiple revisions of the <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> specification. Each <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> version
has been backward compatible with previous versions, all the way back to the
DVI standard it is based on. </p>

<p>Each new <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> version has done two things;</p>

<ul>
<li><p>Increase the maximum supported bandwidth. Increasing the bandwidth increases
the maximum supported resolution.</p>

<ul>
<li>HDMI 1.0 has max bandwidth of ~4<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a>.</li>
<li>HDMI 1.3 has max bandwidth of ~8<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a>.</li>
<li>HDMI 2.0 has max bandwidth of ~14<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a>.</li>
</ul></li>
<li><p>Added new "protocol features".</p>

<ul>
<li>HDMI 1.1 and 1.2 introduced new audio formats and cleaned up CEC a little.</li>
<li>HDMI 1.3 introduced more new audio formats and deep color / wide gamut
pixel formats.</li>
<li>HDMI 1.4 introduced 3d support, audio return, Ethernet.</li>
<li>HDMI 2.0 introduces even more audio formats and even more color and pixel
options.</li>
</ul></li>
</ul>

<h3 id="hdmi-on-opsis-resolution">What resolutions are supported by HDMI connectors on the Opsis board?</h3>

<p>Being a FPGA board as long the resolution fits within the bandwidth of the
Spartan-6 IO pins any bits per pixel, resolution and frame rate is supported by
the Opsis board (you could even make up your own). See the 
"<a href="/info/video-info-faq.html#bandwidth-to-resolution">How does bandwidth related to resolution?</a>" and "<a href="/info/video-info-faq.html#hdmi-versions">What is important about the HDMI versions?</a>"
questions for more.</p>

<p>The IO pins roughly effective bandwidth of ~2.0 <a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> which means the
following standard resolutions when using 24 bits per pixel work reliably in
decreasing bandwidth required order;</p>

<ul>
<li>1280×1024 @ 60Hz</li>
<li>1024×768 @ 85Hz</li>
<li>1920×1080 @ 30Hz</li>
<li>1024×768 @ 75Hz</li>
<li>1280×720 @ 60Hz</li>
<li>1024×768 @ 60Hz</li>
<li>anything lower....</li>
</ul>

<p>With 
<a href="http://hamsterworks.co.nz/mediawiki/index.php/Spartan_6_1080p">various techniques</a>
it is possible to get the IO pins to operate fast enough to provide the ~3
<a href="https://en.wikipedia.org/wiki/Data_rate_units#Gigabit_per_second" title="Gigabits per second">Gbit/s</a> needed by 1920×1080 @ 60Hz which works with many displays. However the
output has too much jitter and is not compliant with the <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> standard.</p>

<h3 id="hdmi-on-opsis-versions">What versions of HDMI is compatible with Opsis board?</h3>

<p>Being a FPGA board the Opsis board doesn't fit neatly into the <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> standard
categories. Any feature which doesn't require extra hardware functionality can
be implemented in software. </p>

<p>This includes anything around;
 * different resolutions (see the 
   "[video-info-faq:hdmi-on-opsis-resolutions]"
   and 
   "<a href="/info/video-info-faq.html#dp-on-opsis-with-dual-mode">What resolutions are supported by DisplayPort connectors on the Opsis board when used as HDMI ports (via Dual Mode)?</a>"
   question.)</p>

<ul>
<li><p>different aspect ratios (16:9, 4:3, 16:10, 21:9)</p></li>
<li><p>different pixel formats (sRGB, YCbCr 4:2:2/4:4:4/4:2:0)</p></li>
<li><p>different frame rates (144Hz, 120Hz, 85Hz, 75Hz, 60Hz, 59.94Hz, 50Hz, 48Hz,
30Hz, 29.97Hz, 24Hz, etc)</p></li>
<li><p>different modes (like 3D, dual view, etc) </p></li>
<li><p>embedded audio formats (any number of channels, formats or bit rates)</p></li>
</ul>

<p>The hardware on the board has the right connections to support the following
features;</p>

<ul>
<li>DDC / EDID features</li>
<li>CEC features</li>
<li>ARC features (ARC is unsupported on the Dual-Mode DisplayPort)</li>
</ul>

<p>The hardware is unable to implement HEAC functionality (Ethernet over HDMI cable).</p>

<h2 id="consider-video-resolutions">What other things are there to consider when thinking about video resolution?</h2>

<p>Once you have the video going into the FPGA you need to actually do something
with it. The higher the resolution the harder it can be to do something useful
with.</p>

<p>For example,</p>

<p>Even with MJPEG compression used in the HDMI2USB.tv firmware, the USB2.0 port
only really has enough bandwidth for a single 720p30 output, so operating at
higher solution / frame rates doesn't make a huge amount of sense.</p>

<p>Gigabit Ethernet has double the bandwidth of the USB2.0 interface but you might
want to stream both <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> inputs at 720p30 rather than a single 1080p30 output.</p>

<p>The bandwidth DDR memory on the board can be a restrictive factor when all the
inputs and outputs independently at higher resolutions.</p>

<h2 id="hdmi-examples">What examples exist for using HDMI on an FPGA?</h2>

<p>There are numerous examples of implementing <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> on the Spartan 6 FPGA. These
include; </p>

<ul>
<li><a href="http://www.xilinx.com/support/documentation/application_notes/xapp495_S6TMDS_Video_Interface.pdf">XAPP495 from Xilinx</a></li>
<li><a href="https://github.com/bunnie/netv-fpga">NeTV example from Bunnie</a></li>
<li>Sample code for the Digilent Atlys and the miniSpartan6+</li>
<li><a href="http://hamsterworks.co.nz/mediawiki/index.php/FPGA_Projects">Excellent examples from Mike Field at HamsterWorks</a>.</li>
<li>Both the
<a href="https://github.com/timvideos/HDMI2USB-jahanzeb-firmware">original HDMI2USB.tv firmware</a>
and the
<a href="https://github.com/timvideos/HDMI2USB-misoc-firmware">new MiSoC based firmware</a>.</li>
<li>The <a href="https://github.com/m-labs/misoc">MiSoC library</a> itself.</li>
</ul>

<p>We are actively building a
<a href="https://github.com/timvideos/HDMI2USB-numato-opsis-sample-code">repository of code samples and demos</a>
which demonstrate how to make use of <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> features of the board.</p>

<p>If you are so inclined, there are also numerous commercial cores which can be
purchased and should operate on the Opsis without problems.</p>

<h2 id="dp-examples">What examples exist for using DisplayPort on an FPGA?</h2>

<p>We are working on getting the fully open source version of the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a>
connectors working so we can integrated it into the HDMI2USB firmware (we also
have been testing with commercial cores which require a license).</p>

<p>Our friend <a href="http://hamsterworks.co.nz/mediawiki/index.php/FPGA_Projects">Mike Field</a> is working on doing an
<a href="https://github.com/hamsternz/FPGA_DisplayPort">open source DisplayPort core</a>
we hope to reuse and he already has a preproduction Opsis board to test with.</p>

<h2 id="hdmi2usb-firmware">What does the [HDMI2USB.tv] firmware utilise?</h2>

<p>The firmware currently restricts the maximum resolution to 720p60.</p>

<p>We have experimentally enabled 1080p30 support which works but currently due to
a number of bugs makes the development cycle too slow (compiling the firmware
goes from taking 15 minutes to taking over 2 hours). We have logged issues
about the needed optimises to the firmware and hope to have this functionality
permanently enabled shortly.</p>

<p>The firmware does not currently support the <a href="https://en.wikipedia.org/wiki/DisplayPort">DisplayPort</a> connectors. This
feature is
<a href="https://github.com/timvideos/HDMI2USB-misoc-firmware/milestones/Enable%20Numato%20Opsis%20DisplayPort">currently actively being worked</a> 
on by Florent from <a href="http://www.enjoy-digital.fr/">Enjoy Digital</a>.</p>

<p>The firmware only implements enough of the <a href="https://en.wikipedia.org/wiki/HDMI">HDMI</a> protocol for user group and
conference recording. It does not currently support features like CEC or Audio
support. We have plans to implement the following features but they are not
ready yet (as they were not possible on our existing prototyping boards);</p>

<ul>
<li>HDMI1.1 and HDMI1.2 embedded audio formats</li>
<li>HDMI1.2 CEC support via <a href="http://libcec.pulse-eight.com/">http://libcec.pulse-eight.com/</a></li>
<li>HDMI1.3 Deep color support</li>
<li>HDMI1.4 ARC support</li>
<li>and much more!</li>
</ul>

<!-- References to pages -->

<!-- Booting related references -->

<!-- References to signals or pins -->

<!-- Glossary of terms -->

<!-- Wikipedia Links -->

<!-- Project links -->


                    </div>
                
            </div>

            
            <div class="row">
              
                <div id="navigation" class="col-sm-2"></div>
                <div id="disqus" class="col-sm-10">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'numato-opsis'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                </div>
              
            </div>
            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="https://github.com/timvideos/HDMI2USB-numato-opsis-sample-code">Numato Opsis</a>. <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a> This <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" rel="dct:type">work</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.

                </div>
            </div>
        </div>

        
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-23123757-5', 'auto');
  ga('send', 'pageview');
</script>

        
    </body>
</html>
